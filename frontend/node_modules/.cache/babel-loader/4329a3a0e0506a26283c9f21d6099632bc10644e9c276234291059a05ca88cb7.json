{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[selectedFile,setSelectedFile]=useState(null);const[reviewReport,setReviewReport]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleFileChange=event=>{setSelectedFile(event.target.files[0]);setReviewReport(null);// Clear previous report\nsetError(null);// Clear previous errors\n};const handleUpload=async()=>{if(!selectedFile){setError(\"Please select a file first.\");return;}setLoading(true);setError(null);setReviewReport(null);const formData=new FormData();formData.append(\"file\",selectedFile);try{const response=await axios.post(\"http://localhost:8000/review/\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setReviewReport(response.data);}catch(err){setError(\"Error uploading file or getting review: \"+err.message);console.error(\"Upload error:\",err);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"bg-gray-800 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"text-white text-lg font-bold\",children:\"Code Review Assistant\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Upload Code for Review\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"w-full px-3 py-2 border rounded-lg\",onChange:handleFileChange})}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:bg-gray-400\",onClick:handleUpload,disabled:!selectedFile||loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{className:\"animate-spin h-5 w-5 mr-3 ...\",viewBox:\"0 0 24 24\"}),\"Reviewing...\"]}):\"Upload and Review\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 mt-2\",children:error})]}),reviewReport&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mt-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold mb-4\",children:[\"Review Report for \",reviewReport.filename]}),reviewReport.suggestions.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:reviewReport.suggestions.map((suggestion,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"py-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[\"Line \",suggestion.line,\":\"]}),/*#__PURE__*/_jsx(\"p\",{children:suggestion.suggestion})]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No specific suggestions found. Good job!\"})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","selectedFile","setSelectedFile","reviewReport","setReviewReport","loading","setLoading","error","setError","handleFileChange","event","target","files","handleUpload","formData","FormData","append","response","post","headers","data","err","message","console","className","children","href","type","onChange","onClick","disabled","viewBox","filename","suggestions","length","map","suggestion","index","line"],"sources":["C:/Users/aryan/Documents/GitHub/Code-Review-Assistant/frontend/src/App.js"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [reviewReport, setReviewReport] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n    setReviewReport(null); // Clear previous report\n    setError(null); // Clear previous errors\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setError(\"Please select a file first.\");\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n    setReviewReport(null);\n\n    const formData = new FormData();\n    formData.append(\"file\", selectedFile);\n\n    try {\n      const response = await axios.post(\"http://localhost:8000/review/\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      setReviewReport(response.data);\n    } catch (err) {\n      setError(\"Error uploading file or getting review: \" + err.message);\n      console.error(\"Upload error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-100 min-h-screen\">\n      <nav className=\"bg-gray-800 p-4\">\n        <div className=\"container mx-auto\">\n          <a href=\"/\" className=\"text-white text-lg font-bold\">Code Review Assistant</a>\n        </div>\n      </nav>\n\n      <div className=\"container mx-auto p-4\">\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h2 className=\"text-2xl font-bold mb-4\">Upload Code for Review</h2>\n          <div className=\"mb-4\">\n            <input type=\"file\" className=\"w-full px-3 py-2 border rounded-lg\" onChange={handleFileChange} />\n          </div>\n          <button \n            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:bg-gray-400\"\n            onClick={handleUpload} \n            disabled={!selectedFile || loading}\n          >\n            {loading ? (\n              <>\n                <svg className=\"animate-spin h-5 w-5 mr-3 ...\" viewBox=\"0 0 24 24\">\n                </svg>\n                Reviewing...\n              </>\n            ) : (\n              \"Upload and Review\"\n            )}\n          </button>\n          {error && <p className=\"text-red-500 mt-2\">{error}</p>}\n        </div>\n\n        {reviewReport && (\n          <div className=\"bg-white rounded-lg shadow-md p-6 mt-4\">\n            <h2 className=\"text-2xl font-bold mb-4\">Review Report for {reviewReport.filename}</h2>\n            {reviewReport.suggestions.length > 0 ? (\n              <ul className=\"divide-y divide-gray-200\">\n                {reviewReport.suggestions.map((suggestion, index) => (\n                  <li key={index} className=\"py-4\">\n                    <p className=\"font-semibold\">Line {suggestion.line}:</p>\n                    <p>{suggestion.suggestion}</p>\n                  </li>\n                ))}\n              </ul>\n            ) : (\n              <p>No specific suggestions found. Good job!</p>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}